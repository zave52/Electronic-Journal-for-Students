<div class="teacher-courses-container p-4 sm:p-6 max-w-7xl mx-auto">
  <h1 class="text-2xl sm:text-3xl font-bold mb-4 sm:mb-6">My Courses</h1>

  @if (error) {
    <app-error-message
      [message]="'Failed to load courses. Please try again later.'"
      (retry)="retryLoad()">
    </app-error-message>
  }

  @if (loading) {
    <app-loader [mode]="'inline'" [size]="'md'" [message]="'Loading your courses...'"></app-loader>
  }

  <div *ngIf="courses$ | async as courses">
    <div *ngIf="courses.length === 0 && !loading && !error" class="empty-state text-center py-12">
      <div class="max-w-md mx-auto">
        <svg class="w-24 h-24 mx-auto text-gray-400 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
        </svg>
        <h2 class="text-2xl font-semibold text-gray-700 mb-3">No Courses Assigned Yet</h2>
        <p class="text-gray-600">You don't have any courses assigned to you at the moment. Please contact the
          administrator if you believe this is an error.</p>
      </div>
    </div>

    <div *ngIf="courses.length > 0" class="courses-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      <div *ngFor="let course of courses"
           (click)="openCourse(course.id)"
           class="course-card bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-lg transition-shadow cursor-pointer overflow-hidden">

        <div class="card-header bg-gradient-to-r from-blue-500 to-blue-600 p-4">
          <h3 class="text-xl font-semibold text-white">{{ course.name }}</h3>
        </div>

        <div class="card-body p-5">
          <p class="text-gray-600 mb-4 line-clamp-3">{{ course.description }}</p>

          <div class="flex items-center justify-between text-sm text-gray-500">
            <span class="flex items-center">
              <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
              </svg>
              Course
            </span>
          </div>
        </div>

        <div class="card-footer bg-gray-50 px-5 py-3 border-t border-gray-200">
          <span class="text-blue-600 font-medium hover:text-blue-800 flex items-center">
            Manage Course
            <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
            </svg>
          </span>
        </div>
      </div>
    </div>
  </div>
</div>
